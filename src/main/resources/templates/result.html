<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>search match</title>
</head>
<body>

<div th:replace="index :: search">
</div>

<div align="center">
    <th:block th:if="${result != null}">
        <h2>
            <img th:src="${iconUrl}" width="150">
            <p>
                닉네임 : <span th:text="${result.name}"></span>
            </p>
            <p>
                레벨 : <span th:text="${result.summonerLevel}"></span>
            </p>


            <th:block th:if="${!#lists.isEmpty(leagueEntry)}">
                <p><img th:src="${tierUrl}" width="150"></p>
                <p>
                    <span th:text="${leagueEntry[0].tier}"></span>
                    <span th:text="${leagueEntry[0].rank}"></span>
                    <span th:text="${leagueEntry[0].leaguePoints} + 포인트"></span>
                </p>
                <p>
                    승리 : <span th:text="${leagueEntry[0].wins}"></span>
                    패배 : <span th:text="${leagueEntry[0].losses}"></span>
                </p>
            </th:block>

            <th:blcok th:if="${#lists.isEmpty(leagueEntry)}">
                Unranked
            </th:blcok>
        </h2>

        <br>

        <th:block th:if="${!#lists.isEmpty(matches)}">
            <table th:each="match : ${matches}">
                <h3>
                    <p th:if="${match.gameMode == 'ARAM'}"> 무작위 총력전 </p>
                    <p th:if="${match.gameMode == 'CLASSIC'}"> 소환사 협곡 </p>
                    <p>
                        <span th:if="${match.win == true}" style="color: blue">
                            승리
                        </span>
                        <span th:if="${match.win == false}" style="color: red">
                            패배
                        </span>
                        <span th:text="${match.gameDurationMinutes}"></span>분
                        <span th:text="${match.gameDurationSeconds}"></span>초
                    </p>
                </h3>

                <tr th:each="userInfo : ${match.matchUserInfoDTOs}">
                    <h4>
                        <td>
                            <th:block th:if="${userInfo.win == true}">
                                <span th:text="${userInfo.summonerName}" style="color: blue"></span>
                            </th:block>
                            <th:block th:if="${userInfo.win == false}">
                                <span th:text="${userInfo.summonerName}" style="color: red"></span>
                            </th:block>
                        </td>
                        <td><img th:src="${userInfo.championName}" width="25"></span></td>
                        <td>
                            <span th:text="${userInfo.kills}"></span> /
                            <span th:text="${userInfo.deaths}"></span> /
                            <span th:text="${userInfo.assists}"></span>
                        </td>
                    </h4>

                    <h5>

                        <td>
                            cs : <span th:text="${userInfo.totalMinionsKilled}"></span>
                            dmg : <span th:text="${userInfo.totalDamageDealtToChampions}"></span>
                        </td>
                        <td>
                            <th:block th:each="item : ${userInfo.items}">
                                <img th:src="${item}" width="25">
                            </th:block>
                        </td>
                        <td>
                            <img th:src="${userInfo.primaryPerk}" width="30"
                                 style="background-color: black; border-radius: 70px">
                            <img th:src="${userInfo.subPerk}" width="30">
                        </td>
                    </h5>
                </tr>
            </table>
        </th:block>

    </th:block>
    <th:block th:if="${result == null}">
        잘못된 소환사 이름입니다. 다시 입력하세요.
    </th:block>
    <br>
</div>

</body>
</html>